// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              String     @id @default(uuid()) @db.Uuid
  firstName       String     @map("first_name") @db.VarChar(50)
  lastName        String     @map("last_name") @db.VarChar(50)
  dateOfBirth     DateTime   @map("date_of_birth")
  address         String     @db.VarChar(255)
  email           String     @unique @db.VarChar(255)
  phoneNumber     String     @map("phone_number") @db.VarChar(20)
  gender          Gender
  isEmailVerified Boolean    @default(false)
  status          Status     @default(INACTIVE)
  roles           UserRole[]

  @@map("user")
}

model Role {
  id    String     @id @default(uuid()) @db.Uuid
  name  String     @db.VarChar(50)
  users UserRole[]

  @@map("role")
}

model UserRole {
  user   User   @relation(fields: [userId], references: [id])
  userId String @map("user_id")
  role   Role   @relation(fields: [roleId], references: [id])
  roleId String @map("role_id")

  @@id([userId, roleId])
  @@map("user_role")
}

enum Gender {
  MALE
  FEMALE
  TBD
}

enum Status {
  ACTIVE
  INACTIVE
}
